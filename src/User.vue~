<template>
    <div>
        <a href="#composeModal" data-toggle="modal"  id="link" class="fa fa-edit">Edit data</a>

        <div aria-hidden="true" role="dialog" tabindex="-1" id="composeModal" class="modal fade" style="display: none;">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">&times;</button>
                        <h4 class="modal-title" style="color:black">User data {{user.user}}</h4>
                    </div>

                    <div class="modal-body">
                        <form  role="form" class="form-horizontal">
                             <div class="row">                                 
                             <div class="col-lg-2">
                                    <img :src="user.avatar">
                             </div> 
                             <div class="col-lg-10">
                             <div class="form-group">
                                <label class="control-label" style="color:black" for="subject">Login</label>
                                
                                    <input type="text" v-model="user.user" id="user" class="form-control" disabled>
                                
                            </div>
                            <div class="form-group">
                                <label class="control-label" style="color:black" for="subject">Name</label>
                                
                                    <input type="text" v-model="user.name" id="name" class="form-control">
                                
                            </div>
									 <div class="form-group">
                                <label class="control-label" style="color:black" for="subject">Site</label>
                                
                                    <input type="text" v-model="user.site" id="site" class="form-control">
                                
                            </div>
                            

                            <div class="form-group">
                                <div class="col-lg-offset-2 col-lg-10">
                                    <button class="btn btn-send" type="submit" @click.prevent="submit">submit</button>
                                </div>
                            </div>
                            </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
    import moment from 'moment';
    import { eventBus } from './main';

    export default {
        data() {
            return {
                user: {
                    user: "BoAndersen",
                    site:"http://www.codingexplained.com",
                    name:"Bo Andersen",
                    avatar:"src/assets/images/bo.jpg",
                    email:"info@codingexplained.com",
                    password: '12345'
                }
            };
        },
        props:{
            user:{
                type: Object,
                required: true
            }
        },
        created() {
            eventBus.$on('userView', (data) => {
                this.user = data;
                console.log(data);
            });
        }/*,
        methods:{
           submit(){
                eventBus.$emit('userChange', {
                    tag: 'app-user',
                    title: user.name,
                    data: {
                        user: user
                    }
                });
           }
        }*/
    }
</script>
<style>
#link {
   color:#fff;
}
</style>